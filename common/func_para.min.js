"use strict";(function(){var e={font_family_list:{Arial:"Arial","Times New Roman":"Times New Roman",Calibri:"Calibri",verdana:"verdana","Microsoft Yahei":"微软雅黑",SimSun:"宋体",FangSong:"仿宋",KaiTi:"楷体",SimHei:"黑体"},get_param_header_html:function(e){var t='          <div style="position:absolute;width:100%;top:0px;background:#F9F9F9;height:40px;border-bottom:1px solid #DDD;margin:0px;border-radius:8px 8px 0 0;">            <div style="float:right;margin:8px 10px 0 0;">            <a class="draw_autoscreen icon-btn">            <i class="icon-i" title="自适应" style="background-image: url(\''+e+'auto-screen.png\');"></i></a>            <a class="draw_fullscreen icon-btn">            <i class="icon-i" title="全屏显示" style="background-image: url(\''+e+'full-screen.png\');"></i></a>            <a class="draw_fullscreen_exit icon-btn">              <i class="icon-i" title="取消全屏" style="background-image: url(\''+e+'full-screen-exit.png\');"></i></a>              <a class="draw_zoom_up icon-btn">              <i class="icon-i" title="放大" style="background-image: url(\''+e+'enlarge.png\');"></i></a>              <a class="draw_zoom_down icon-btn">              <i class="icon-i" title="缩小" style="background-image: url(\''+e+'lessen.png\');"></i></a>              <a class="draw_open_param icon-btn" title="参数调整">              <i class="icon-i" style="background-image: url(\''+e+'edit.png\');"></i>              </a>              <a class="draw_open_download icon-btn" title="图片下载">              <i class="icon-i" style="background-image: url(\''+e+"download.png');\"></i>              </a>            </div>          </div>";return t},bodyDiv:function(e){var t=e.height?"height:"+(Number(e.height)-45)+"px;overflow-y:auto;":"";var a='<div class="outbox" style="'+t+'overflow-x:auto;clear:both;margin-top:40px;"><div id="'+e.id+'_draw"></div></div><div class="floatdiv"></div>';return a},topHtml:function(e){var t='<tr><td colspan=1 ><button class="param-button reset-draw">'+lang[e.lang][31]+"</button></td></tr>";return t},getInitParam:function(e,t){var a={};var n=e.projectParam;var r=e.getParamUrl;if(r!=""&&r!=undefined){func.myAjax({url:r,type:"post",async:false,data:n,success:function(e){a=JSON.parse(e);for(var t in a){if(a[t]==="true"){a[t]=true}if(a[t]==="false"){a[t]=false}}}});console.log(a);if(t){return func.extend({},e,a)}else{return func.extend({},a,this.options.drawData)}}else{return t?e:e.drawData}},setInitParam:function(e,t){var a=e.projectParam;var n=e.setParamUrl;if(n!=""&&n!=undefined){func.myAjax({url:n,type:"post",async:true,data:func.extend({},a,t),success:function(e){console.log(JSON.parse(e))}})}},setFloatUl:function(e){var t=e.id;if(t.indexOf("_draw")>-1){var a=new RegExp("_draw","g");t=t.replace(a,"")}var s=document.getElementById(t);var n=s.getElementsByClassName("right-div");for(var r=0;r<n.length;r++){n[r].style.display=r==0?"block":"none";n[r].style.width=220}var i=s.getElementsByClassName("network-set-nav");if(e.lang=="en"){i[0].setAttribute("style","list-style-type:none;padding:0;padding-right:10px;border-right:1px solid #E8E8E8;float:left;margin-block-start:0;margin-top:0px;height:350px;width:52px")}else{i[0].setAttribute("style","list-style-type:none;padding:0;padding-right:10px;border-right:1px solid #E8E8E8;float:left;margin-block-start:0;margin-top:0px;height:350px;")}var l=i[0].getElementsByTagName("li");for(var r=0;r<l.length;r++){if(r==0){l[r].setAttribute("style","font-size:14px;margin-bottom:27px;line-height:25px;cursor:pointer;color:#409EFF;width:32px;")}else if(r!=l.length-1){l[r].setAttribute("style","font-size:14px;margin-bottom:27px;line-height:25px;cursor:pointer;color:#333;width:32px;")}else{l[r].setAttribute("style","font-size:14px;line-height:27px;cursor:pointer;color:#333;width:32px;")}l[r].onclick=function(e){for(var t=0;t<l.length;t++){l[t].style.color="#333"}this.style.color="#409EFF";var a=this.getAttribute("data-index");var n=s.getElementsByClassName("right-div");for(var r=0;r<n.length;r++){n[r].style.display="none"}n[a].style.display="block"}}},setStyle:function(e){var t=e.id;if(t.indexOf("_draw")>-1){var a=new RegExp("_draw","g");t=t.replace(a,"")}var n=e.btnColor?e.btnColor:"#409eff";var r=document.getElementById(t);var s=r.getElementsByClassName("icon-btn");for(var i=0;i<s.length;i++){s[i].setAttribute("style","width:25px;height:25px;display: block;float:left;border-radius:2px;cursor: pointer;position: relative;margin-right:10px;")}var l=r.getElementsByClassName("icon-i");for(var i=0;i<l.length;i++){l[i].style.cssText+="display: inline-block;position: absolute;width: 20px;height: 20px;top:50%;left: 50%;transform: translate(-50%,-50%);background-size: 20px 20px;"}var o=r.getElementsByClassName("param-input");for(var i=0;i<o.length;i++){if(o[i].getAttribute("type")!="checkbox"){if(o[i].getAttribute("data-type")=="long"){o[i].setAttribute("style","width:auto;border:1px solid #D8D8D8;border-radius:2px;height:25px;padding:2px 4px;box-sizing:border-box")}else{if(o[i].getAttribute("data-special")=="two"){o[i].setAttribute("style","width:50px;border:1px solid #D8D8D8;border-radius:2px;height:25px;padding:2px 4px;box-sizing:border-box")}else{o[i].setAttribute("style","width:120px;border:1px solid #D8D8D8;border-radius:2px;height:25px;padding:2px 4px;box-sizing:border-box")}}}else{o[i].setAttribute("style","margin-left:3px;")}}var d=r.getElementsByClassName("param-button");for(var i=0;i<d.length;i++){d[i].setAttribute("style","color:#fff;background:"+n+";          border:1px solid "+n+";border-radius:2px;font-size:14px;          text-align:center;letter-spacing:.7px;padding:5px 10px;cursor:pointer;");d[i].onmouseout=function(){this.style.opacity=1};d[i].onmouseover=function(){this.style.opacity=.8}}var g=r.getElementsByClassName("float-div");for(var i=0;i<g.length;i++){g[i].style.cssText+="position:absolute;right:10px;top:35px;min-height:200px;background:#FFF;padding:15px 0px 15px 15px;border:1px solid rgba(0,0,0,.15);          border-radius:5px;box-shadow: 0 3px 6px 0 rgba(0,0,0,.15), 0 10px 20px 0 rgba(0,0,0,.15);display:none;z-index:999;"}var p=r.getElementsByClassName(e.id+"param-color-input");for(var i=0;i<p.length;i++){p[i].style.height=20+"px"}var c=r.getElementsByClassName("edit-table");for(var i=0;i<c.length;i++){var u=c[i].getElementsByTagName("td");for(var m=0;m<u.length;m++){u[m].style.cssText="padding:5px 0px 5px 5px;"}}var y=r.getElementsByClassName("colorparts");for(var i=y.length-1;i>=0;i--){y[i].style.cssText="padding:5px 10px"}},getAllpara:function(e){var t=document.getElementById(e.id);var a=t.getElementsByClassName("draw_param_div")[0];var n=a.getElementsByClassName("paramdiv");var r=[],s;for(var i=0;i<n.length;i++){s=n[i].getElementsByClassName("param-input");for(var l=0;l<s.length;l++){r.push(s[l])}}var o={};for(var i=0;i<r.length;i++){var d=r[i].getAttribute("data-sign");if(r[i].getAttribute("type")=="checkbox"){o[d]=r[i].checked}else{o[d]=r[i].value}}console.log(o);return o},paramEvent:function(r){var a=document.getElementById(r.id);var e=r.id+"_draw";var n=document.getElementById(e);var s=a.getElementsByClassName("draw_param_div")[0];a.getElementsByClassName("draw_autoscreen")[0].onclick=function(){if(func.checkFullScreen()){return false}var e=this.getAttribute("active");var t=document.getElementById(r.id);var a=t.getElementsByClassName("outbox")[0];var n=t.getElementsByClassName("outBox")[0];if(e&&e=="active"){this.setAttribute("active","");a.style.height=r.height-45+"px";n.style.height=r.height+"px"}else{a.style.height="auto";n.style.height="auto";this.setAttribute("active","active")}};a.getElementsByClassName("draw_fullscreen")[0].onclick=function(){func.toFullScreen(r.id);window.onresize=function(){if(!func.checkFullScreen()){func.exitFullScreen(r.id,r.height)}}};a.getElementsByClassName("draw_fullscreen_exit")[0].onclick=function(){func.exitFullScreen(r.id,r.height)};a.getElementsByClassName("draw_open_param")[0].onclick=function(e){this.style.background="#636a82";this.getElementsByTagName("i")[0].style.background="url('"+r.jsUrl+"edit1.png')";a.getElementsByClassName("draw_open_download")[0].style.background="none";a.getElementsByClassName("draw_open_download")[0].getElementsByTagName("i")[0].style.background="url('"+r.jsUrl+"download.png')";a.getElementsByClassName("draw_download_div")[0].style.display="none";if(s.style.display=="none"){s.style.display="block";n.style.cssText+="margin:0"}else{s.style.display="none";n.style.cssText+="margin:0 auto"}e=e||window.event;e.stopPropagation()};a.getElementsByClassName("draw_open_download")[0].onclick=function(e){this.style.background="#636a82";this.getElementsByTagName("i")[0].style.background="url('"+r.jsUrl+"download1.png')";a.getElementsByClassName("draw_open_param")[0].style.background="none";a.getElementsByClassName("draw_open_param")[0].getElementsByTagName("i")[0].style.background="url('"+r.jsUrl+"edit.png')";s.style.display="none";var t=a.getElementsByClassName("draw_download_div")[0];if(t.style.display=="none"){t.style.display="block";n.style.cssText+="margin:0"}else{t.style.display="none";n.style.cssText+="margin:0 auto"}e=e||window.event;e.stopPropagation()};document.addEventListener("click",function(){n.style.cssText+="margin:0 auto";s.style.display="none";a.getElementsByClassName("draw_download_div")[0].style.display="none";a.getElementsByClassName("draw_open_download")[0].style.background="none";a.getElementsByClassName("draw_open_param")[0].style.background="none";a.getElementsByClassName("draw_open_download")[0].getElementsByTagName("i")[0].style.background="url('"+r.jsUrl+"download.png')";a.getElementsByClassName("draw_open_param")[0].getElementsByTagName("i")[0].style.background="url('"+r.jsUrl+"edit.png')"});a.getElementsByClassName("draw_download_div")[0].onclick=function(e){e=e||window.event;e.stopPropagation()};s.onclick=function(e){e=e||window.event;e.stopPropagation()}},zoom_up:function(e){var t=e.id;var a=d3.select("#"+t).select("svg");var n=a.select("g");var r=a.node();var s=n.attr("data-zoom-num")||1;s=Number(s)+.2;n.attr("data-zoom-num",s);var i=e.width,l=e.height;n.attr("transform","translate(0,0) scale("+s+")");var o=i*s;var d=l*s;a.attr("width",i*s).attr("height",l*s);n.attr("width",i*s);n.attr("height".origin_height*s);var g=document.getElementById(t);g.style.cssText+="width:"+o+"px;";if(g.parentNode.style.height&&g.parentNode.offsetHeight>d){a.attr("style","margin-top:"+(g.parentNode.offsetHeight-d)/2+"px;")}else{a.attr("style","margin-top:0px;")}return s},zoom_down:function(e){var t=e.id;var a=d3.select("#"+t).select("svg");var n=a.select("g");var r=a.node();var s=n.attr("data-zoom-num")||1;s=Number(s)-.2;n.attr("data-zoom-num",s);var i=e.width,l=e.height;n.attr("transform","translate(0,0) scale("+s+")");var o=i*s;var d=l*s;a.attr("width",i*s).attr("height",l*s);var g=document.getElementById(t);g.style.cssText+="width:"+o+"px;";if(g.parentNode.style.height&&g.parentNode.offsetHeight>d){a.attr("style","margin-top:"+(g.parentNode.offsetHeight-d)/2+"px;")}else{a.attr("style","margin-top:0px;")}return s},resetOutHeight:function(e){var t=document.getElementById(e.id);var a=t.getElementsByClassName("outbox")[0];var n=t.getElementsByClassName("outBox")[0];if(e.height=="100%"){a.style.height="auto";n.style.height="auto"}else{a.style.height=e.height-45+"px";n.style.height=e.height+"px"}},initDrawData:function(e,t){var a=t?t.id:e.id;var n=document.getElementById(a);var r=n.getElementsByClassName("draw_param_div")[0];var s=r.getElementsByClassName("paramdiv");n.getElementsByClassName("pic-height")[0].value=Math.round(e.height*100)/100;n.getElementsByClassName("pic-width")[0].value=Math.round(e.width*100)/100;var i=[],l;for(var o=0;o<s.length;o++){l=s[o].getElementsByClassName("param-input");for(var d=0;d<l.length;d++){i.push(l[d])}}for(var d=0;d<i.length;d++){var g=i[d].getAttribute("data-sign");if(i[d].getAttribute("type")=="checkbox"){i[d].checked=e[g]}else{i[d].value=Number(e[g])?Math.round(e[g]*100)/100:e[g]}}},startDraw:function(e){var t=document.getElementById(e.id)}};var t=function(){return this||(0,eval)("this")}();typeof exports==="object"&&typeof module!=="undefined"?module.exports=e:typeof define==="function"&&define.amd?define(e):!("func_para"in t)&&(t.func_para=e)})();