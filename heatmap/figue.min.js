"use strict";(function(){var m={SINGLE_LINKAGE:0,COMPLETE_LINKAGE:1,AVERAGE_LINKAGE:2,EUCLIDIAN_DISTANCE:0,MANHATTAN_DISTANCE:1,MAX_DISTANCE:2,euclidianDistance:function(e,r){var t=e.length;var n=0;for(var a=0;a<t;a++)n+=Math.pow(e[a]-r[a],2);n=Math.sqrt(n);return n},manhattanDistance:function(e,r){var t=e.length;var n=0;for(var a=0;a<t;a++)n+=Math.abs(e[a]-r[a]);return n},maxDistance:function(e,r){var t=e.length;var n=0;for(var a=0;a<t;a++)n=Math.max(n,Math.abs(e[a]-r[a]));return n},calculateCentroid:function(e,r,t,n){var a=new Array(r.length);var i=e+t;for(var f=0;f<r.length;f++)a[f]=(e*r[f]+t*n[f])/i;return a},agglomerate:function(e,r,t,n){var a=r.length;var i=new Array(a);var f=new Array(a);var o=m.Matrix(a,a);var l=o.mtx;var u=new Array(a);var A,s,c,v,E,d,N,h,I,D;if(t==m.EUCLIDIAN_DISTANCE)t=m.euclidianDistance;else if(t==m.MANHATTAN_DISTANCE)t=m.manhattanDistance;else if(t==m.MAX_DISTANCE)t=m.maxDistance;for(E=0;E<a;E++){i[E]=0;for(d=0;d<a;d++){if(E==d)l[E][d]=Infinity;else l[E][d]=t(r[E],r[d]);if(l[E][i[E]]>l[E][d])i[E]=d}}for(E=0;E<a;E++){u[E]=[];u[E][0]=m.Node(e[E],null,null,0,r[E]);f[E]=1}for(N=0;N<a-1;N++){A=0;for(E=0;E<a;E++){if(l[E][i[E]]<l[A][i[A]])A=E}s=i[A];c=u[A][0];v=u[s][0];I=m.calculateCentroid(c.size,c.centroid,v.size,v.centroid);D=m.Node(-1,c,v,l[A][s],I);u[A].splice(0,0,D);f[A]+=f[s];for(d=0;d<a;d++){if(n==m.SINGLE_LINKAGE){if(l[A][d]>l[s][d])l[d][A]=l[A][d]=l[s][d]}else if(n==m.COMPLETE_LINKAGE){if(l[A][d]<l[s][d])l[d][A]=l[A][d]=l[s][d]}else if(n==m.AVERAGE_LINKAGE){var M=(f[A]*l[A][d]+f[s]*l[s][d])/(f[A]+f[d]);l[d][A]=l[A][d]=M}}l[A][A]=Infinity;for(E=0;E<a;E++)l[E][s]=l[s][E]=Infinity;for(d=0;d<a;d++){if(i[d]==s)i[d]=A;if(l[A][d]<l[A][i[A]])i[A]=d}h=D}return h},Matrix:function(e,r){var t={};t.rows=e;t.cols=r;t.mtx=new Array(e);for(var n=0;n<e;n++){var a=new Array(r);for(var i=0;i<r;i++)a[i]=0;t.mtx[n]=a}return t},Node:function(e,r,t,n,a){var i={};i.label=e;i.left=r;i.right=t;i.dist=n;i.centroid=a;if(r==null&&t==null){i.size=1;i.depth=0}else{i.size=r.size+t.size;i.depth=1+Math.max(r.depth,t.depth)}return i}};var e=function(){return this||(0,eval)("this")}();typeof exports==="object"&&typeof module!=="undefined"?module.exports=m:typeof define==="function"&&define.amd?define(m):!("figue"in e)&&(e.figue=m)})();